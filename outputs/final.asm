include numbers.asm
include macros2.asm

.MODEL SMALL
.386
.STACK 200h

.DATA

.CODE
START:

	MOV AX, @DATA
	MOV DS, AX

	FLD 99999.99
	FSTP x
ET_START_WHILE_1:
	FLD x
	FLD y
	FXCH
	FCOM
	FSTSW ax
	SAHF
	JNA ET_END_WHILE_1
	FLD d
	FLD 0
	FXCH
	FCOM
	FSTSW ax
	SAHF
	JB ET_END_WHILE_1
	FLD x
	FLD 1
	FSUB
	FSTP x
	JMP ET_START_WHILE_1
ET_END_WHILE_1:
ET_START_WHILE_2:
	FLD x
	FLD y
	FXCH
	FCOM
	FSTSW ax
	SAHF
	JAE ET_END_WHILE_2
	FLD d
	FLD 0
	FXCH
	FCOM
	FSTSW ax
	SAHF
	JE ET_END_WHILE_2
	FLD x
	FLD 1
	FSUB
	FSTP x
ET_START_IF_1:
	FLD x
	FLD 5
	FXCH
	FCOM
	FSTSW ax
	SAHF
	JNA ET_END_IF_1
	FLD x
	FLD 1
	FSUB
	FSTP x
	JMP ET_END_IF_2
ET_END_IF_1:
	FLD x
	FLD 1
	FADD
	FSTP x
ET_END_IF_2:
	JMP ET_START_WHILE_2
ET_END_WHILE_2:

	MOV AX, 4C00h
	INT 21h

END START